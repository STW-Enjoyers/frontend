<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

<div class="container-fluid rounded bg-light mt-2">
  <div class="row">
    <div class="col-2 col-lg-1">
      <img src="https://mdbcdn.b-cdn.net/img/new/avatars/1.webp"
           class="rounded-circle shadow-4" style="width: 100%;" alt="Avatar" />
    </div>
    <div class="col-10">
      <p><b>{{comment.username}}</b></p>
      <p>{{comment.body}}</p>
      <div class="row">
        <div class="col">
          <p *ngIf="responsesAreShown"><i class="bi bi-caret-up-fill" (click)="onShowResponses()"></i> Ver respuestas</p>
          <p *ngIf="!responsesAreShown"><i class="bi bi-caret-down-fill" (click)="onShowResponses()"></i>Ver respuestas</p>
        </div>
        <div class="col">
          <p *ngIf="isUpvoted"><i class="bi bi-heart-fill" (click)="onUpVote()"></i> {{comment.upvotes}}</p>
          <p *ngIf="!isUpvoted"><i class="bi bi-heart" (click)="onUpVote()"></i> {{comment.upvotes}}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="responsesAreShown" class="row justify-content-end">
  <div *ngFor="let response of comment.responses" class="col-10 col">
    <app-response [response]="response"></app-response>
  </div>
</div>

